<template name="participants">
  <div class="collection with-header">
    <div class="collection-header">
      {{> _recurringEventMenu allRoute='participants' categoryRoute='participantsByEvent'}}
      <h4>
        {{> _recurringEventFilterButton}}
        {{$.Session.get 'title'}}
      </h4>
    </div>
    {{#unless participants.count}}
      <div class="collection-item">
        Pas de participants.
      </div>
    {{/unless}}

    {{#each participants}}
      {{>_participant}}
    {{/each}}
  <a href="{{pathFor 'participantsNew'}}" class="btn-floating btn-large waves-effect waves-light red"><i class="mdi-content-add"></i></a>
  </div>
</template>

<template name="_participant">
  <a class="collection-item participant" href="{{pathFor 'participantsEdit'}}">
    {{lastName}}, {{firstName}}
  </a>
</template>

<template name="participantsNew">
  <div class="row">
    <div class="col-xs-12">
      {{>_participantsForm}}
    </div>
  </div>
</template>

<template name="participantsEdit">
  <div class="row">
    <div class="col-xs-12">
      {{>_participantsForm}}
    </div>
  </div>
</template>

<template name="_participantsForm">
  {{#autoForm id="participantForm" collection=collection doc=participant type=operation}}
    <div class="row">
      <div class="input-field col s12 m6">
        {{> afQuickField name='lastName'}}
      </div>
      <div class="input-field col s12 m6">
        {{> afQuickField name='firstName'}}
      </div>
    </div>
    {{> _submit}}
  {{/autoForm}}
</template>
